# Snappymail nginx snippet
# Include this in your server block: include snippets/snappymail.conf;

location /snappymail {
    alias /usr/share/snappymail;
    index index.php;

    location ~ \.php$ {
        fastcgi_pass unix:/run/php/php-fpm.sock;
        fastcgi_param SCRIPT_FILENAME $request_filename;
        include fastcgi_params;
    }

    location ~ /\. {
        deny all;
    }
}

# Standalone server block alternative â€” serve at document root
# Uncomment and adapt if serving snappymail on its own vhost:
#
# root /usr/share/snappymail;
# index index.php;
#
# location / {
#     try_files $uri $uri/ /index.php?$query_string;
# }
#
# location ~ \.php$ {
#     fastcgi_pass unix:/run/php/php-fpm.sock;
#     fastcgi_param SCRIPT_FILENAME $document_root$fastcgi_script_name;
#     include fastcgi_params;
# }
#
# location ~ /\. {
#     deny all;
# }
